# å¿«é€Ÿå¼€å§‹æŒ‡å—

## é¡¹ç›®å·²æˆåŠŸç”Ÿæˆï¼

ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„Javaåª’ä½“ä¸‹è½½å·¥å…·ï¼ŒåŒ…æ‹¬ä¸¤ä¸ªç‰ˆæœ¬ï¼š

### ğŸ“¦ ç‰ˆæœ¬è¯´æ˜

#### 1. **ç‹¬ç«‹ç‰ˆæœ¬** (æ¨è - å·²ç¼–è¯‘å®Œæˆ) â­
- **æ–‡ä»¶**: `target/media-downloader.jar`
- **ç‰¹ç‚¹**: æ— éœ€ä»»ä½•ä¾èµ–ï¼Œå¼€ç®±å³ç”¨
- **å¤§å°**: å¾ˆå°ï¼ˆä»…åŒ…å«å¿…è¦çš„æ ‡å‡†åº“ï¼‰
- **ç¼–è¯‘çŠ¶æ€**: âœ… **å·²å®Œæˆ**

#### 2. **å®Œæ•´Mavenç‰ˆæœ¬** (åŠŸèƒ½æ›´ä¸°å¯Œ)
- **æ–‡ä»¶**: æºä»£ç åœ¨ `src/` ç›®å½•
- **é…ç½®**: `pom.xml`
- **ç‰¹ç‚¹**: åŒ…å«é«˜çº§åŠŸèƒ½å’Œæ›´å¤šåª’ä½“æ”¯æŒåº“
- **éœ€æ±‚**: å®‰è£…Mavenåè¿è¡Œ `mvn clean package`

---

## âš¡ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# ä¸‹è½½åª’ä½“åˆ°é»˜è®¤ç›®å½• (./downloads)
java -jar target/media-downloader.jar https://example.com/page

# ä¸‹è½½åª’ä½“åˆ°æŒ‡å®šç›®å½•
java -jar target/media-downloader.jar https://example.com/page ./output

# Windowsç¤ºä¾‹
java -jar target/media-downloader.jar https://example.com/page "D:\Downloads"

# Mac/Linuxç¤ºä¾‹
java -jar target/media-downloader.jar https://example.com/page ~/Downloads
```

### å®Œæ•´ç¤ºä¾‹

```bash
# ç¤ºä¾‹1: ä»ç½‘é¡µä¸‹è½½éŸ³é¢‘
java -jar target/media-downloader.jar https://music.example.com/song

# ç¤ºä¾‹2: è‡ªå®šä¹‰è¾“å‡ºç›®å½•
java -jar target/media-downloader.jar https://podcast.example.com/episode ./my-podcasts

# ç¤ºä¾‹3: ç»å¯¹è·¯å¾„
java -jar target/media-downloader.jar https://video.example.com/movie /home/user/videos
```

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

âœ… **è‡ªåŠ¨è¯†åˆ«åª’ä½“**
- è¯†åˆ« `<audio>` å’Œ `<video>` HTMLæ ‡ç­¾
- æå–åª’ä½“æ–‡ä»¶çš„srcå±æ€§
- æ”¯æŒåµŒå¥—çš„`<source>`æ ‡ç­¾

âœ… **æ™ºèƒ½é“¾æ¥æå–**
- ä»`<a>`æ ‡ç­¾ä¸­è¯†åˆ«åª’ä½“é“¾æ¥
- æ”¯æŒJavaScriptä»£ç ä¸­çš„URL
- ä»JSONæ•°æ®ä¸­æå–åª’ä½“URL

âœ… **ç›¸å¯¹URLå¤„ç†**
- è‡ªåŠ¨è½¬æ¢ç›¸å¯¹URLä¸ºç»å¯¹URL
- å¤„ç†`//protocol-relative` URLs
- æ”¯æŒè·¯å¾„ç®€åŒ–

âœ… **å¤šæ ¼å¼æ”¯æŒ**
- éŸ³é¢‘: mp3, m4a, wav, ogg, aac, flac
- è§†é¢‘: mp4, webm
- è‡ªåŠ¨å°†æ‰€æœ‰éŸ³é¢‘æ–‡ä»¶ä¿å­˜ä¸º.mp3æ‰©å±•å

âœ… **æ™ºèƒ½æ–‡ä»¶ç®¡ç†**
- è‡ªåŠ¨åˆ›å»ºè¾“å‡ºç›®å½•
- ä½¿ç”¨åŸå§‹æ–‡ä»¶åï¼ˆå¦‚å¯ç”¨ï¼‰
- è¿›åº¦æ˜¾ç¤ºå’Œé”™è¯¯å¤„ç†

---

## ğŸ“‹ å·¥ä½œåŸç†

```
1. è¾“å…¥URL
   â†“
2. è·å–ç½‘é¡µHTMLå†…å®¹
   â†“
3. è§£æHTMLå¹¶æå–åª’ä½“é“¾æ¥
   â†“
4. è§„èŒƒåŒ–ç›¸å¯¹URLä¸ºç»å¯¹URL
   â†“
5. é€ä¸ªä¸‹è½½åª’ä½“æ–‡ä»¶
   â†“
6. ä¿å­˜åˆ°æŒ‡å®šç›®å½•
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
media-download/
â”œâ”€â”€ target/
â”‚   â”œâ”€â”€ media-downloader.jar          â­ å¯æ‰§è¡Œç¨‹åºï¼ˆæ¨èï¼‰
â”‚   â””â”€â”€ classes/
â”‚       â””â”€â”€ com/media/
â”‚           â””â”€â”€ MediaDownloaderStandalone.class
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/java/
â”‚   â”‚   â””â”€â”€ com/media/
â”‚   â”‚       â”œâ”€â”€ MediaDownloaderStandalone.java  (ç‹¬ç«‹ç‰ˆæœ¬)
â”‚   â”‚       â””â”€â”€ MediaDownloader.java             (Mavenç‰ˆæœ¬)
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ logback.xml
â”‚
â”œâ”€â”€ pom.xml                           (Mavené…ç½®)
â”œâ”€â”€ manifest.txt                      (JARæ¸…å•)
â”œâ”€â”€ README.md                         (è¯¦ç»†æ–‡æ¡£)
â”œâ”€â”€ QUICK_START.md                    (æœ¬æ–‡ä»¶)
â””â”€â”€ .git/
```

---

## ğŸ”§ é«˜çº§ç”¨æ³•

### è„šæœ¬è‡ªåŠ¨åŒ–ï¼ˆWindows .batï¼‰

åˆ›å»ºæ–‡ä»¶ `download.bat`:
```batch
@echo off
set URL=%1
set OUTPUT=%2
if "%OUTPUT%"=="" set OUTPUT=./downloads

echo å¼€å§‹ä¸‹è½½åª’ä½“...
java -jar target/media-downloader.jar %URL% %OUTPUT%
echo å®Œæˆï¼
pause
```

ä½¿ç”¨:
```batch
download.bat https://example.com/page D:\Music
```

### è„šæœ¬è‡ªåŠ¨åŒ–ï¼ˆLinux/Mac .shï¼‰

åˆ›å»ºæ–‡ä»¶ `download.sh`:
```bash
#!/bin/bash
URL="$1"
OUTPUT="${2:-.\/downloads}"

if [ -z "$URL" ]; then
    echo "ç”¨æ³•: ./download.sh <URL> [è¾“å‡ºç›®å½•]"
    exit 1
fi

echo "å¼€å§‹ä¸‹è½½åª’ä½“..."
java -jar target/media-downloader.jar "$URL" "$OUTPUT"
echo "å®Œæˆï¼"
```

ä½¿ç”¨:
```bash
chmod +x download.sh
./download.sh https://example.com/page ~/Music
```

---

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

| éœ€æ±‚ | ç‰ˆæœ¬ |
|------|------|
| Java | 11+ |
| ç½‘ç»œ | éœ€è¦ |
| æ“ä½œç³»ç»Ÿ | Windows, Mac, Linux |
| ç£ç›˜ç©ºé—´ | è¶³ä»¥å­˜å‚¨ä¸‹è½½æ–‡ä»¶ |

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ç¨‹åºæ— æ³•è¿è¡Œï¼Ÿ
**A:** è¯·æ£€æŸ¥ï¼š
1. Javaæ˜¯å¦æ­£ç¡®å®‰è£…: `java -version`
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. URLæ˜¯å¦æœ‰æ•ˆä¸”å¯è®¿é—®

### Q: ä¸‹è½½é€Ÿåº¦å¾ˆæ…¢ï¼Ÿ
**A:** è¿™å–å†³äºï¼š
1. ç½‘ç»œé€Ÿåº¦
2. è¿œç¨‹æœåŠ¡å™¨é€Ÿåº¦
3. æ–‡ä»¶å¤§å°

å¯ä»¥å°è¯•ï¼š
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- åœ¨ä¸åŒæ—¶é—´é‡è¯•
- ä½¿ç”¨VPNï¼ˆå¦‚åœ°ç†é™åˆ¶ï¼‰

### Q: æ‰¾ä¸åˆ°åª’ä½“æ–‡ä»¶ï¼Ÿ
**A:** å¯èƒ½çš„åŸå› ï¼š
1. ç½‘é¡µæ²¡æœ‰åª’ä½“æ–‡ä»¶
2. åª’ä½“åŠ¨æ€åŠ è½½ï¼ˆéœ€è¦JavaScriptï¼‰
3. æ–‡ä»¶è¢«CDNéšè—
4. ç½‘ç«™æœ‰åçˆ¬è™«æœºåˆ¶

### Q: æ”¯æŒä»£ç†å—ï¼Ÿ
**A:** å½“å‰ç‰ˆæœ¬ä¸ç›´æ¥æ”¯æŒï¼Œä½†å¯ä»¥ï¼š
1. é€šè¿‡ç³»ç»Ÿä»£ç†è®¾ç½®
2. ä¿®æ”¹ä»£ç æ·»åŠ ä»£ç†æ”¯æŒ
3. ä½¿ç”¨VPN

### Q: å¯ä»¥å¹¶å‘ä¸‹è½½å—ï¼Ÿ
**A:** å½“å‰æ˜¯ä¸²è¡Œä¸‹è½½ã€‚è‹¥è¦å¹¶å‘ï¼Œå¯ä¿®æ”¹æºä»£ç ä½¿ç”¨çº¿ç¨‹æ± ã€‚

### Q: éœ€è¦ç™»å½•çš„ç½‘ç«™æ€ä¹ˆåŠï¼Ÿ
**A:** ç›®å‰ä¸æ”¯æŒè‡ªåŠ¨ç™»å½•ã€‚é€‰é¡¹ï¼š
1. å¤åˆ¶ç™»å½•åçš„Cookieåˆ°ä»£ç 
2. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è·å–åª’ä½“URL
3. ä½¿ç”¨Seleniumç­‰è‡ªåŠ¨åŒ–å·¥å…·

---

## ğŸ“ æ–‡ä»¶è¯´æ˜

### MediaDownloaderStandalone.java (æ¨è - å½“å‰ä½¿ç”¨)
- **å¤§å°**: ~10KB
- **ä¾èµ–**: ä»…Javaæ ‡å‡†åº“
- **åŠŸèƒ½**: åŸºç¡€åª’ä½“ä¸‹è½½
- **ç‰¹ç‚¹**: ç®€å•ã€å¿«é€Ÿã€æ— ä¾èµ–

### MediaDownloader.java (å®Œæ•´ç‰ˆ - Maven)
- **å¤§å°**: ~12KB
- **ä¾èµ–**: jsoup, okhttp3, gson, slf4j
- **åŠŸèƒ½**: æ›´å®Œæ•´çš„HTMLè§£æå’Œæ—¥å¿—è®°å½•
- **ç‰¹ç‚¹**: æ›´å¥å£®çš„é”™è¯¯å¤„ç†

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. **ç«‹å³å°è¯•**
   ```bash
   java -jar target/media-downloader.jar https://example.com
   ```

2. **è‡ªå®šä¹‰è¾“å‡ºç›®å½•**
   ```bash
   java -jar target/media-downloader.jar https://example.com "./my-media"
   ```

3. **æ‰¹é‡ä¸‹è½½å¤šä¸ªç½‘é¡µ**
   - ç¼–å†™è„šæœ¬å¾ªç¯è°ƒç”¨ç¨‹åº

4. **é›†æˆåˆ°å…¶ä»–é¡¹ç›®**
   - ç›´æ¥é›†æˆJARæ–‡ä»¶
   - æˆ–è°ƒç”¨æ ‡å‡†è¾“å‡º

---

## ğŸ“š æ›´å¤šèµ„æº

- **å®Œæ•´æ–‡æ¡£**: æŸ¥çœ‹ `README.md`
- **æºä»£ç **: æŸ¥çœ‹ `src/main/java/com/media/`
- **é…ç½®æ–‡ä»¶**: æŸ¥çœ‹ `pom.xml`ï¼ˆMavenç‰ˆæœ¬ï¼‰

---

## âœ¨ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | ç‹¬ç«‹ç‰ˆæœ¬ | Mavenç‰ˆæœ¬ |
|------|--------|----------|
| HTMLè§£æ | âœ… æ­£åˆ™è¡¨è¾¾å¼ | âœ… JSoupåº“ |
| HTTPè¯·æ±‚ | âœ… æ ‡å‡†åº“ | âœ… OkHttp |
| JSONè§£æ | âœ… æ­£åˆ™è¡¨è¾¾å¼ | âœ… Gsonåº“ |
| æ—¥å¿—è®°å½• | âš ï¸ System.out | âœ… SLF4J/Logback |
| æ–‡ä»¶å¤§å° | å¾ˆå° | è¾ƒå¤§ |
| ä¾èµ–ç®¡ç† | æ—  | Maven |
| æ€§èƒ½ | è‰¯å¥½ | ä¼˜ç§€ |
| å¯æ‰©å±•æ€§ | ä¸€èˆ¬ | ä¼˜ç§€ |

**æ¨è**: å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨**ç‹¬ç«‹ç‰ˆæœ¬** (`media-downloader.jar`) å³å¯å®Œå…¨æ»¡è¶³éœ€æ±‚ã€‚

---

## ğŸ“ æ”¯æŒ

é‡åˆ°é—®é¢˜ï¼Ÿ
1. æ£€æŸ¥å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æŸ¥çœ‹å®Œæ•´çš„README.mdæ–‡æ¡£
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒURLæœ‰æ•ˆæ€§
4. æŸ¥çœ‹æºä»£ç æ³¨é‡Š

---

**ç‰ˆæœ¬**: 1.0.0  
**æ—¥æœŸ**: 2026å¹´2æœˆ22æ—¥  
**çŠ¶æ€**: âœ… ç”Ÿæˆå®Œæˆ
